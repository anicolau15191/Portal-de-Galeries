"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[809],{1809:function(e,n,t){t.r(n),t.d(n,{default:function(){return W}});var r=t(5671),a=t(3144),s=t(136),l=t(8505),c=t(2791),i=t(4569),o=t.n(i),u=t(5803),d=t(4412),h=t(1413),f=t(885),v=t(5987),m=t(9007);var x=function(e,n){var t=(0,c.useRef)(!0);(0,c.useEffect)((function(){if(!t.current)return e();t.current=!1}),n)},p=t(7904),g=t(5746),j=t(1683),b=Math.pow(2,31)-1;function w(e,n,t){var r=t-Date.now();e.current=r<=b?setTimeout(n,r):setTimeout((function(){return w(e,n,t)}),b)}function N(){var e=(0,g.Z)(),n=(0,c.useRef)();return(0,j.Z)((function(){return clearTimeout(n.current)})),(0,c.useMemo)((function(){var t=function(){return clearTimeout(n.current)};return{set:function(r,a){void 0===a&&(a=0),e()&&(t(),a<=b?n.current=setTimeout(r,a):w(n,r,Date.now()+a))},clear:t}}),[])}var y=t(6445),C=t(1694),Z=t.n(C),k=t(239),S=(0,t(6543).Z)("carousel-caption"),M=t(162),L=t(184),E=["as","bsPrefix","className"],I=c.forwardRef((function(e,n){var t=e.as,r=void 0===t?"div":t,a=e.bsPrefix,s=e.className,l=(0,v.Z)(e,E),c=Z()(s,(0,M.vE)(a,"carousel-item"));return(0,L.jsx)(r,(0,h.Z)((0,h.Z)({ref:n},l),{},{className:c}))}));I.displayName="CarouselItem";var T=I;function X(e,n){var t=0;return c.Children.map(e,(function(e){return c.isValidElement(e)?n(e,t++):e}))}var V=t(1380),J=t(7202),R=t(4083),z=["as","bsPrefix","slide","fade","controls","indicators","indicatorLabels","activeIndex","onSelect","onSlide","onSlid","interval","keyboard","onKeyDown","pause","onMouseOver","onMouseOut","wrap","touch","onTouchStart","onTouchMove","onTouchEnd","prevIcon","prevLabel","nextIcon","nextLabel","variant","className","children"],P={slide:!0,fade:!1,controls:!0,indicators:!0,indicatorLabels:[],defaultActiveIndex:0,interval:5e3,keyboard:!0,pause:"hover",wrap:!0,touch:!0,prevIcon:(0,L.jsx)("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:"Previous",nextIcon:(0,L.jsx)("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:"Next"};var A=c.forwardRef((function(e,n){var t=(0,k.Ch)(e,{activeIndex:"onSelect"}),r=t.as,a=void 0===r?"div":r,s=t.bsPrefix,l=t.slide,i=t.fade,o=t.controls,u=t.indicators,d=t.indicatorLabels,g=t.activeIndex,j=t.onSelect,b=t.onSlide,w=t.onSlid,C=t.interval,S=t.keyboard,E=t.onKeyDown,I=t.pause,T=t.onMouseOver,P=t.onMouseOut,A=t.wrap,D=t.touch,O=t.onTouchStart,F=t.onTouchMove,B=t.onTouchEnd,H=t.prevIcon,K=t.prevLabel,W=t.nextIcon,_=t.nextLabel,q=t.variant,G=t.className,Q=t.children,U=(0,v.Z)(t,z),Y=(0,M.vE)(s,"carousel"),$=(0,M.SC)(),ee=(0,c.useRef)(null),ne=(0,c.useState)("next"),te=(0,f.Z)(ne,2),re=te[0],ae=te[1],se=(0,c.useState)(!1),le=(0,f.Z)(se,2),ce=le[0],ie=le[1],oe=(0,c.useState)(!1),ue=(0,f.Z)(oe,2),de=ue[0],he=ue[1],fe=(0,c.useState)(g||0),ve=(0,f.Z)(fe,2),me=ve[0],xe=ve[1];de||g===me||(ee.current?ae(ee.current):ae((g||0)>me?"next":"prev"),l&&he(!0),xe(g||0)),(0,c.useEffect)((function(){ee.current&&(ee.current=null)}));var pe,ge=0;!function(e,n){var t=0;c.Children.forEach(e,(function(e){c.isValidElement(e)&&n(e,t++)}))}(Q,(function(e,n){++ge,n===g&&(pe=e.props.interval)}));var je=(0,p.Z)(pe),be=(0,c.useCallback)((function(e){if(!de){var n=me-1;if(n<0){if(!A)return;n=ge-1}ee.current="prev",null==j||j(n,e)}}),[de,me,j,A,ge]),we=(0,m.Z)((function(e){if(!de){var n=me+1;if(n>=ge){if(!A)return;n=0}ee.current="next",null==j||j(n,e)}})),Ne=(0,c.useRef)();(0,c.useImperativeHandle)(n,(function(){return{element:Ne.current,prev:be,next:we}}));var ye=(0,m.Z)((function(){!document.hidden&&function(e){if(!e||!e.style||!e.parentNode||!e.parentNode.style)return!1;var n=getComputedStyle(e);return"none"!==n.display&&"hidden"!==n.visibility&&"none"!==getComputedStyle(e.parentNode).display}(Ne.current)&&($?be():we())})),Ce="next"===re?"start":"end";x((function(){l||(null==b||b(me,Ce),null==w||w(me,Ce))}),[me]);var Ze="".concat(Y,"-item-").concat(re),ke="".concat(Y,"-item-").concat(Ce),Se=(0,c.useCallback)((function(e){(0,J.Z)(e),null==b||b(me,Ce)}),[b,me,Ce]),Me=(0,c.useCallback)((function(){he(!1),null==w||w(me,Ce)}),[w,me,Ce]),Le=(0,c.useCallback)((function(e){if(S&&!/input|textarea/i.test(e.target.tagName))switch(e.key){case"ArrowLeft":return e.preventDefault(),void($?we(e):be(e));case"ArrowRight":return e.preventDefault(),void($?be(e):we(e))}null==E||E(e)}),[S,E,be,we,$]),Ee=(0,c.useCallback)((function(e){"hover"===I&&ie(!0),null==T||T(e)}),[I,T]),Ie=(0,c.useCallback)((function(e){ie(!1),null==P||P(e)}),[P]),Te=(0,c.useRef)(0),Xe=(0,c.useRef)(0),Ve=N(),Je=(0,c.useCallback)((function(e){Te.current=e.touches[0].clientX,Xe.current=0,"hover"===I&&ie(!0),null==O||O(e)}),[I,O]),Re=(0,c.useCallback)((function(e){e.touches&&e.touches.length>1?Xe.current=0:Xe.current=e.touches[0].clientX-Te.current,null==F||F(e)}),[F]),ze=(0,c.useCallback)((function(e){if(D){var n=Xe.current;Math.abs(n)>40&&(n>0?be(e):we(e))}"hover"===I&&Ve.set((function(){ie(!1)}),C||void 0),null==B||B(e)}),[D,I,be,we,Ve,C,B]),Pe=null!=C&&!ce&&!de,Ae=(0,c.useRef)();(0,c.useEffect)((function(){var e,n;if(Pe){var t=$?be:we;return Ae.current=window.setInterval(document.visibilityState?ye:t,null!=(e=null!=(n=je.current)?n:C)?e:void 0),function(){null!==Ae.current&&clearInterval(Ae.current)}}}),[Pe,be,we,je,C,ye,$]);var De=(0,c.useMemo)((function(){return u&&Array.from({length:ge},(function(e,n){return function(e){null==j||j(n,e)}}))}),[u,ge,j]);return(0,L.jsxs)(a,(0,h.Z)((0,h.Z)({ref:Ne},U),{},{onKeyDown:Le,onMouseOver:Ee,onMouseOut:Ie,onTouchStart:Je,onTouchMove:Re,onTouchEnd:ze,className:Z()(G,Y,l&&"slide",i&&"".concat(Y,"-fade"),q&&"".concat(Y,"-").concat(q)),children:[u&&(0,L.jsx)("div",{className:"".concat(Y,"-indicators"),children:X(Q,(function(e,n){return(0,L.jsx)("button",{type:"button","data-bs-target":"","aria-label":null!=d&&d.length?d[n]:"Slide ".concat(n+1),className:n===me?"active":void 0,onClick:De?De[n]:void 0,"aria-current":n===me},n)}))}),(0,L.jsx)("div",{className:"".concat(Y,"-inner"),children:X(Q,(function(e,n){var t=n===me;return l?(0,L.jsx)(R.Z,{in:t,onEnter:t?Se:void 0,onEntered:t?Me:void 0,addEndListener:V.Z,children:function(n,r){return c.cloneElement(e,(0,h.Z)((0,h.Z)({},r),{},{className:Z()(e.props.className,t&&"entered"!==n&&Ze,("entered"===n||"exiting"===n)&&"active",("entering"===n||"exiting"===n)&&ke)}))}}):c.cloneElement(e,{className:Z()(e.props.className,t&&"active")})}))}),o&&(0,L.jsxs)(L.Fragment,{children:[(A||0!==g)&&(0,L.jsxs)(y.Z,{className:"".concat(Y,"-control-prev"),onClick:be,children:[H,K&&(0,L.jsx)("span",{className:"visually-hidden",children:K})]}),(A||g!==ge-1)&&(0,L.jsxs)(y.Z,{className:"".concat(Y,"-control-next"),onClick:we,children:[W,_&&(0,L.jsx)("span",{className:"visually-hidden",children:_})]})]})]}))}));A.displayName="Carousel",A.defaultProps=P;var D=Object.assign(A,{Caption:S,Item:T}),O=(0,u.Vo)((function(){return Promise.all([t.e(808),t.e(320)]).then(t.bind(t,3646))})),F=(0,u.Vo)((function(){return Promise.resolve().then(t.bind(t,2015))})),B="https://www.api.artgalleryxisca.me",H="https://www.api.artgalleryxisca.me/foto",K=function(e){(0,s.Z)(t,e);var n=(0,l.Z)(t);function t(e){var a;return(0,r.Z)(this,t),(a=n.call(this,e)).state={galeria:[],poblacio:[],galeriaCoordenades:[],generes:[]},a}return(0,a.Z)(t,[{key:"componentDidMount",value:function(){var e=this,n=this.props.id;o().get(B+"/galeries/"+n).then((function(n){var t=n.data;e.setState({galeria:t}),o().get(B+"/galeries/"+e.state.galeria.id_galeria+"/generesPare").then((function(n){var t=n.data;e.setState({generes:t})}))})),o().get(B+"/galeria/"+n+"/poblacio").then((function(n){var t=n.data;e.setState({poblacio:t})})),o().get(B+"/galeries/"+n+"/coordenades").then((function(n){var t=n.data;e.setState({galeriaCoordenades:t})}))}},{key:"render",value:function(){var e=this.props.id;return(0,L.jsx)(c.Suspense,{fallback:(0,L.jsx)("p",{children:"Loading"}),children:(0,L.jsxs)("div",{className:"galeria",children:[(0,L.jsx)(d.W2,{className:"mt-3 mb-3",id:"tab"}),(0,L.jsx)(d.W2,{id:"info",className:"d-flex justify-content-md-center mb-lg-3",children:(0,L.jsxs)(d.X2,{children:[(0,L.jsx)(d.JX,{md:"12",lg:"6",id:"fotos",children:(0,L.jsxs)(D,{children:[(0,L.jsx)(D.Item,{children:(0,L.jsx)("img",{className:"carrusel d-block w-100",src:H+"/"+e+"/"+e+"-1",onError:function(e){var n=e.currentTarget;n.onerror=null,n.src="../default.jpg"},style:{objectFit:"cover"},alt:"..."})}),(0,L.jsx)(D.Item,{children:(0,L.jsx)("img",{className:"carrusel d-block w-100",src:H+"/"+e+"/"+e+"-2",onError:function(e){var n=e.currentTarget;n.onerror=null,n.src="../default.jpg"},style:{objectFit:"cover"},alt:".."})}),(0,L.jsx)(D.Item,{children:(0,L.jsx)("img",{className:"carrusel d-block w-100",src:H+"/"+e+"/"+e+"-3",onError:function(e){var n=e.currentTarget;n.onerror=null,n.src="../default.jpg"},style:{objectFit:"cover"},alt:".."})}),(0,L.jsx)(D.Item,{children:(0,L.jsx)("img",{className:"carrusel d-block w-100",src:H+"/"+e+"/"+e+"-4",onError:function(e){var n=e.currentTarget;n.onerror=null,n.src="../default.jpg"},style:{objectFit:"cover"},alt:".."})})]})}),(0,L.jsx)(d.JX,{children:(0,L.jsxs)(d.X2,{children:[(0,L.jsx)(d.JX,{className:"col-12 mt-3 d-flex justify-content-center",children:(0,L.jsx)("h3",{children:this.state.galeria.nom})}),(0,L.jsx)(d.JX,{className:"col-12 mt-1",children:(0,L.jsx)("hr",{})}),(0,L.jsxs)(d.JX,{className:"col-12 mt-1 d-flex flex-column justify-content-start d-flex flex-lg-row",children:[(0,L.jsxs)("span",{children:[(0,L.jsx)(F,{string:"generes"})," : "]}),this.state.generes.map((function(e){return(0,L.jsx)("span",{children:e.nom},e.id_genere)}))]}),(0,L.jsx)(d.JX,{className:"col-12 mt-1",children:(0,L.jsx)("hr",{})}),(0,L.jsxs)(d.JX,{md:"12",lg:"6",className:" d-flex justify-content-md-center flex-column  mt-3",children:[(0,L.jsxs)("span",{className:"mb-3",children:[" ",(0,L.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-telephone",viewBox:"0 0 16 16",children:(0,L.jsx)("path",{d:"M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.568 17.568 0 0 0 4.168 6.608 17.569 17.569 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.678.678 0 0 0-.58-.122l-2.19.547a1.745 1.745 0 0 1-1.657-.459L5.482 8.062a1.745 1.745 0 0 1-.46-1.657l.548-2.19a.678.678 0 0 0-.122-.58L3.654 1.328zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z"})})," :  ",this.state.galeria.telefon]}),(0,L.jsxs)("span",{children:[" ",(0,L.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-envelope",viewBox:"0 0 16 16",children:(0,L.jsx)("path",{d:"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2Zm13 2.383-4.708 2.825L15 11.105V5.383Zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741ZM1 11.105l4.708-2.897L1 5.383v5.722Z"})})," : ",this.state.galeria.email]})]}),(0,L.jsxs)(d.JX,{md:"12",lg:"6",className:"d-flex justify-content-md-center flex-column mt-3",children:[this.state.poblacio.map((function(e){return(0,L.jsxs)("span",{className:"mb-3",children:[(0,L.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-geo-alt",viewBox:"0 0 16 16",children:[(0,L.jsx)("path",{d:"M12.166 8.94c-.524 1.062-1.234 2.12-1.96 3.07A31.493 31.493 0 0 1 8 14.58a31.481 31.481 0 0 1-2.206-2.57c-.726-.95-1.436-2.008-1.96-3.07C3.304 7.867 3 6.862 3 6a5 5 0 0 1 10 0c0 .862-.305 1.867-.834 2.94zM8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10z"}),(0,L.jsx)("path",{d:"M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"})]})," : ",e.nom]},e.id_poblacio)})),(0,L.jsxs)("span",{children:[" ",(0,L.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-house",viewBox:"0 0 16 16",children:[(0,L.jsx)("path",{"fill-rule":"evenodd",d:"M2 13.5V7h1v6.5a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5V7h1v6.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5zm11-11V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z"}),(0,L.jsx)("path",{"fill-rule":"evenodd",d:"M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z"})]})," :  ",this.state.galeria.direccio]})]}),(0,L.jsx)(d.JX,{className:"col-12 mt-2",children:(0,L.jsx)("hr",{})}),(0,L.jsx)(d.JX,{className:"d-flex justify-content-md-center col-12 mt-2 mb-3 mb-lg-0",children:(0,L.jsx)("div",{children:this.state.galeria.descripcio})})]})})]})}),(0,L.jsx)(d.W2,{id:"mapa",className:"mb-3",children:(0,L.jsx)(O,{galeria:this.state.galeriaCoordenades})})]})})}}]),t}(c.Component),W=K}}]);
//# sourceMappingURL=809.b40937d7.chunk.js.map