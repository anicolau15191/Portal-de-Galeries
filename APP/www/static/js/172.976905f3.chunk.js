"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[172],{172:function(e,s,a){a.r(s);var t=a(5671),n=a(3144),i=a(7326),l=a(136),r=a(8505),o=a(4569),d=a.n(o),c=a(2791),h=a(4412),x=a(3360),p=(a(6171),a(3785)),u=a(184),m=function(e){(0,l.Z)(a,e);var s=(0,r.Z)(a);function a(){var e;return(0,t.Z)(this,a),(e=s.call(this)).state={dates:[],sesions:[],dia:"0",modal:!1,expo:"",sessio:""},e.handleChange=e.handleChange.bind((0,i.Z)(e)),e.toggleModal=e.toggleModal.bind((0,i.Z)(e)),e}return(0,n.Z)(a,[{key:"componentDidMount",value:function(){var e=this,s=this.props.match.params.idExpo;d().get("http://localhost:8000/dies/"+s).then((function(s){var a=s.data;e.setState({dates:a})})),d().get("http://localhost:8000/sessions/"+s).then((function(s){var a=s.data;e.setState({sesions:a})})),d().get("http://localhost:8000/exposicio/"+s).then((function(s){var a=s.data;e.setState({expo:a})}))}},{key:"handleChange",value:function(e){this.setState({dia:e.value})}},{key:"toggleModal",value:function(){this.setState({modal:!this.state.modal})}},{key:"render",value:function(){var e,s=this;return this.props.sesions==[]&&(e=(0,u.jsx)("p",{children:"No hi ha cap sessi\xf3 assignada per aquest dia."})),(0,u.jsxs)(h.W2,{children:[(0,u.jsx)("h3",{className:"mt-3",children:"Reserva la teva entrada"}),(0,u.jsxs)("p",{children:["Est\xe0 reservant una entrada per la exposici\xf3 ",this.state.expo.nom]}),(0,u.jsx)("p",{children:"Perfavor, seleccioni un dia i una sessi\xf3:"}),(0,u.jsxs)(h.X2,{children:[(0,u.jsxs)(h.JX,{lg:"4",sm:"12",className:"mt-3",children:[(0,u.jsx)("span",{children:"Tria el dia en el que vols reservar:"}),(0,u.jsx)(p.Datepicker,{dateFormat:"YYYY-MM-DD",firstDay:1,min:this.state.dates.data_ini,max:this.state.dates.data_fi,locale:p.localeCa})]}),(0,u.jsxs)(h.JX,{lg:"8",sm:"12",className:"mt-3",children:[(0,u.jsx)("span",{children:"Tria la sessi\xf3:"}),(0,u.jsx)(h.W2,{className:"border border-dark d-flex flex-wrap justify-content-start m-3 p-3",children:(0,u.jsxs)(h.X2,{children:[e,this.state.sesions.map((function(e){return(0,u.jsx)(h.JX,{lg:"3",className:"d-flex justify-content-center",children:(0,u.jsxs)(x.Z,{className:"w-100 my-2 d-flex flex-wrap justify-content-center",variant:"outline-dark",onClick:s.toggleModal,children:[(0,u.jsxs)("p",{className:"pe-0",children:[e.hora_ini.slice(0,-3)," - ",e.hora_fi.slice(0,-3)]}),(0,u.jsx)("span",{style:{fontSize:"12px",width:"100%"},children:e.nom})]})},e.id_sessio)}))]})})]})]}),(0,u.jsxs)(h.u_,{isOpen:this.state.modal,toggle:this.toggleModal,children:[(0,u.jsx)(h.xB,{toggle:this.toggleModal,children:"Confirmaci\xf3 de la reserva: "}),(0,u.jsxs)(h.l0,{children:[(0,u.jsxs)(h.fe,{children:[(0,u.jsx)("h6",{children:"Informaci\xf3 de la reserva:"}),(0,u.jsx)("p",{children:this.state.expo.nom}),(0,u.jsx)("p",{})]}),(0,u.jsxs)(h.mz,{children:[(0,u.jsx)(x.Z,{variant:"dark",type:"submit",onClick:this.toggleModal,children:"Envia"}),(0,u.jsx)(x.Z,{variant:"secondary",onClick:this.toggleModal,children:"Cancela"})]})]})]})]})}}]),a}(c.Component);s.default=m}}]);
//# sourceMappingURL=172.976905f3.chunk.js.map