"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[854],{4854:function(e,n,r){r.r(n),r.d(n,{default:function(){return m}});var t=r(5671),a=r(3144),s=r(7326),i=r(136),l=r(8505),o=r(2791),c=r(4569),h=r.n(c),p=r(4412),u=r(1523),g=r(184),d=function(e){(0,i.Z)(r,e);var n=(0,l.Z)(r);function r(){return(0,t.Z)(this,r),n.apply(this,arguments)}return(0,a.Z)(r,[{key:"render",value:function(){return(0,g.jsx)(p.JX,{className:"mb-2",lg:"3",sm:"6",children:(0,g.jsxs)(p.Zb,{className:"card rounded h-100 border-0",children:[(0,g.jsx)(p.Mo,{style:{height:300,objectFit:"cover"},className:"img-fluid rounded-start",alt:"...",src:"https://www.api.artgalleryxisca.me/foto/"+this.props.galeria.id_galeria+"/"+this.props.galeria.id_galeria+"-1",onError:function(e){var n=e.currentTarget;n.onerror=null,n.src="../default.jpg"}}),(0,g.jsxs)(p.eW,{className:"card-body",children:[(0,g.jsx)(p.ll,{className:"text-center",children:(0,g.jsx)("h5",{children:this.props.galeria.nom})}),(0,g.jsx)(p.SK,{})]}),(0,g.jsx)(u.rU,{to:"/Galeria/"+this.props.galeria.id_galeria,className:"text-decoration-none stretched-link"})]})},this.props.galeria.id_galeria)}}]),r}(o.Component);d.defaultProps={galeria:{}};var b=d,f=function(e){(0,i.Z)(r,e);var n=(0,l.Z)(r);function r(e){return(0,t.Z)(this,r),n.call(this,e)}return(0,a.Z)(r,[{key:"applyFilters",value:function(e){return"0"===this.props.genere&&"0"===this.props.subgenere&&"0"===this.props.poblacio?-1!==e.nom.indexOf(this.props.cerca):"0"!==this.props.genere&&"0"===this.props.subgenere&&"0"===this.props.poblacio?null!==e.generes&&-1!==e.generes.indexOf(this.props.genere)&&-1!==e.nom.indexOf(this.props.cerca):"0"!==this.props.genere&&"0"!==this.props.subgenere&&"0"===this.props.poblacio?null!==e.generes&&-1!==e.generes.indexOf(this.props.subgenere)&&-1!==e.nom.indexOf(this.props.cerca):"0"===this.props.genere&&"0"===this.props.subgenere&&"0"!==this.props.poblacio?e.id_poblacio==this.props.poblacio&&-1!==e.nom.indexOf(this.props.cerca):"0"!==this.props.genere&&"0"!==this.props.subgenere&&"0"!==this.props.poblacio?null!==e.generes&&-1!==e.generes.indexOf(this.props.subgenere)&&e.id_poblacio==this.props.poblacio&&-1!==e.nom.indexOf(this.props.cerca):"0"!==this.props.genere&&"0"===this.props.subgenere&&"0"!==this.props.poblacio?null!==e.generes&&-1!==e.generes.indexOf(this.props.genere)&&e.id_poblacio==this.props.poblacio&&-1!==e.nom.indexOf(this.props.cerca):void 0}},{key:"render",value:function(){var e=this;return(0,g.jsx)(p.W2,{className:"mt-3",children:(0,g.jsx)(p.X2,{className:"d-flex flex-wrap justify-content-start",children:this.props.galeries.filter((function(n){return e.applyFilters(n)})).map((function(e){return(0,g.jsx)(b,{galeria:e},e.id_galeria)}))})})}}]),r}(o.Component),x=function(e){(0,i.Z)(r,e);var n=(0,l.Z)(r);function r(e){var a;return(0,t.Z)(this,r),(a=n.call(this,e)).state={poblacio:[],genPare:[],genFill:[],genere:"0"},a.handleCerca=a.handleCerca.bind((0,s.Z)(a)),a.handlePoblacio=a.handlePoblacio.bind((0,s.Z)(a)),a.handleGenere=a.handleGenere.bind((0,s.Z)(a)),a.handleSubgenere=a.handleSubgenere.bind((0,s.Z)(a)),a}return(0,a.Z)(r,[{key:"componentDidMount",value:function(){var e=this;h().get("https://www.api.artgalleryxisca.me/poblacio").then((function(n){var r=n.data;e.setState({poblacio:r})})),h().get("https://www.api.artgalleryxisca.me/generes").then((function(n){var r=n.data;e.setState({genPare:r})})),h().get("https://www.api.artgalleryxisca.me/generes/subgeneres").then((function(n){var r=n.data;e.setState({genFill:r})}))}},{key:"applyFilters",value:function(e){return"0"!==this.state.genere&&this.state.genere==e.id_genere2}},{key:"handlePoblacio",value:function(e){this.props.handlePoblacio(e.target.value)}},{key:"handleGenere",value:function(e){this.props.handleGenere(e.target.value),this.setState({genere:e.target.value})}},{key:"handleSubgenere",value:function(e){this.props.handleSubgenere(e.target.value)}},{key:"handleCerca",value:function(e){this.props.handleCerca(e.target.value)}},{key:"render",value:function(){var e=this;return(0,g.jsxs)("div",{className:"mt-0 mb-4 bg-dark p-4 d-flex flex-wrap justify-content-around mx-3 text-white",children:[(0,g.jsxs)(p.cw,{className:"col-lg-2 col-sm-12",children:[(0,g.jsx)(p.__,{children:"Cerca per nom"}),(0,g.jsx)(p.II,{type:"text",className:"form-control",onChange:this.handleCerca})]}),(0,g.jsxs)(p.cw,{className:"col-lg-2 col-sm-12",children:[(0,g.jsx)(p.__,{children:"Poblaci\xf3:"}),(0,g.jsxs)(p.II,{type:"select",id:"poblacio",name:"poblacio",onChange:this.handlePoblacio,children:[(0,g.jsx)("option",{value:"0",children:"Selecciona"}),this.state.poblacio.map((function(e){return(0,g.jsx)("option",{value:e.id_poblacio,children:e.nom},e.id_poblacio)}))]})]}),(0,g.jsxs)(p.cw,{className:"col-lg-2 col-sm-12",children:[(0,g.jsx)(p.__,{children:"Genere:"}),(0,g.jsxs)(p.II,{type:"select",id:"genere",name:"genere",onChange:this.handleGenere,children:[(0,g.jsx)("option",{value:"0",children:"Selecciona"}),this.state.genPare.map((function(e){return(0,g.jsx)("option",{value:e.id_genere,children:e.nom},e.id_genere)}))]})]}),(0,g.jsxs)(p.cw,{className:"col-lg-2 col-sm-12",children:[(0,g.jsx)(p.__,{children:"Subgenere:"}),(0,g.jsxs)(p.II,{type:"select",id:"subgenere",name:"subgenere",onChange:this.handleSubgenere,children:[(0,g.jsx)("option",{value:"0",children:"Selecciona"}),this.state.genFill.filter((function(n){return e.applyFilters(n)})).map((function(e){return(0,g.jsx)("option",{value:e.id_genere,children:e.nom},e.id_genere)}))]})]})]})}}]),r}(o.Component),m=function(e){(0,i.Z)(r,e);var n=(0,l.Z)(r);function r(){var e;return(0,t.Z)(this,r),(e=n.call(this)).state={galeries:[],genere:"0",subgenere:"0",poblacio:"0",cerca:""},e.changeGenere=e.changeGenere.bind((0,s.Z)(e)),e.changeSubgenere=e.changeSubgenere.bind((0,s.Z)(e)),e.changePoblacio=e.changePoblacio.bind((0,s.Z)(e)),e.changeCerca=e.changeCerca.bind((0,s.Z)(e)),e}return(0,a.Z)(r,[{key:"changeGenere",value:function(e){this.setState({genere:e})}},{key:"changeSubgenere",value:function(e){this.setState({subgenere:e})}},{key:"changePoblacio",value:function(e){this.setState({poblacio:e})}},{key:"changeCerca",value:function(e){this.setState({cerca:e})}},{key:"componentDidMount",value:function(){var e=this;h().get("https://www.api.artgalleryxisca.me/galeries").then((function(n){var r=n.data;e.setState({galeries:r})}))}},{key:"render",value:function(){return(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{className:"mx-3 bg-dark mt-3 mb-0 d-flex justify-content-center align-items-center",children:(0,g.jsx)("h1",{className:"text-center text-light",children:"Art Gallery"})}),(0,g.jsx)(x,{handlePoblacio:this.changePoblacio,handleGenere:this.changeGenere,handleSubgenere:this.changeSubgenere,handleCerca:this.changeCerca}),(0,g.jsx)(f,{galeries:this.state.galeries,genere:this.state.genere,subgenere:this.state.subgenere,poblacio:this.state.poblacio,cerca:this.state.cerca})]})}}]),r}(o.Component)}}]);
//# sourceMappingURL=854.46c965ce.chunk.js.map