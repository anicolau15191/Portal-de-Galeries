{"version":3,"file":"static/js/172.976905f3.chunk.js","mappings":"kPAOMA,EAAAA,SAAAA,IAAAA,EAAAA,EAAAA,GAAAA,EAAAA,GAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,GACF,aAAe,IAAD,yBACV,gBACKC,MAAQ,CACTC,MAAO,GACPC,QAAQ,GACRC,IAAI,IACJC,OAAO,EACPC,KAAK,GACLC,OAAO,IAGX,EAAKC,aAAe,EAAKA,aAAaC,MAAlB,WACpB,EAAKC,YAAc,EAAKA,YAAYD,MAAjB,WAZT,EAgGb,OAnFA,yCAED,WAAqB,IAAD,OACZE,EAASC,KAAKC,MAAMC,MAAMC,OAAOJ,OACrCK,IAAAA,IAAU,8BAA8BL,GACnCM,MAAK,SAAAC,GACF,IAAMhB,EAAQgB,EAAIC,KAClB,EAAKC,SAAS,CAAElB,MAAAA,OAGxBc,IAAAA,IAAU,kCAAkCL,GAC3CM,MAAK,SAAAC,GACF,IAAMf,EAAUe,EAAIC,KACpB,EAAKC,SAAS,CAACjB,QAAAA,OAEnBa,IAAAA,IAAU,mCAAmCL,GACxCM,MAAK,SAAAC,GACF,IAAMZ,EAAOY,EAAIC,KACjB,EAAKC,SAAS,CAACd,KAAAA,SAE1B,0BAED,SAAae,GACTT,KAAKQ,SAAS,CAAChB,IAAMiB,EAAEC,UAC1B,yBAED,WACIV,KAAKQ,SAAS,CACVf,OAAQO,KAAKX,MAAMI,UAE1B,oBAED,WAAU,IACFkB,EADC,OAML,OAHGX,KAAKC,MAAMV,SAAS,KACnBoB,GAAK,8EAGL,UAAC,KAAD,YACI,eAAIC,UAAU,OAAd,sCACA,8EAAgDZ,KAAKX,MAAMK,KAAKmB,QAChE,yEACA,UAAC,KAAD,YACI,UAAC,KAAD,CAAKC,GAAG,IAAIC,GAAG,KAAKH,UAAU,OAA9B,WACI,oEACA,SAAC,EAAAI,WAAD,CAAYC,WAAW,aAAaC,SAAU,EAC9CC,IAAKnB,KAAKX,MAAMC,MAAM8B,SAAUC,IAAKrB,KAAKX,MAAMC,MAAMgC,QACtDC,OAAQC,EAAAA,eAEZ,UAAC,KAAD,CAAKV,GAAG,IAAIC,GAAG,KAAKH,UAAU,OAA9B,WACI,kDACA,SAAC,KAAD,CAAWA,UAAU,oEAArB,UACI,UAAC,KAAD,WACKD,EACAX,KAAKX,MAAME,QAAQkC,KAAI,SAAA9B,GAAM,OAC1B,SAAC,KAAD,CAAKmB,GAAG,IAAIF,UAAU,gCAAtB,UACI,UAAC,IAAD,CAAQA,UAAU,qDAAqDc,QAAQ,eAAeC,QAAS,EAAK7B,YAA5G,WACI,eAAGc,UAAU,OAAb,UAAqBjB,EAAOiC,SAASC,MAAM,GAAG,GAA9C,MAAqDlC,EAAOmC,QAAQD,MAAM,GAAG,OAC7E,iBAAME,MAAO,CAACC,SAAS,OAAOC,MAAM,QAApC,SAA8CtC,EAAOkB,UAHFlB,EAAOuC,0BAWtF,UAAC,KAAD,CAAOC,OAAQnC,KAAKX,MAAMI,MAAO2C,OAAQpC,KAAKF,YAA9C,WACI,SAAC,KAAD,CAAasC,OAAQpC,KAAKF,YAA1B,6CACA,UAAC,KAAD,YACA,UAAC,KAAD,YACI,0DACA,uBAAIE,KAAKX,MAAMK,KAAKmB,OACpB,qBAEJ,UAAC,KAAD,YACI,SAAC,IAAD,CAAQa,QAAQ,OAAOW,KAAK,SAASV,QAAS3B,KAAKF,YAAnD,oBACA,SAAC,IAAD,CAAQ4B,QAAQ,YAAYC,QAAS3B,KAAKF,YAA1C,qCAMnB,EAjGCV,CAAiBkD,EAAAA,WAmGvB","sources":["Component/Reserves.js"],"sourcesContent":["import axios from 'axios';\r\nimport React, { Component } from 'react';\r\nimport {Container, Row, Col, Modal, ModalHeader, ModalBody, ModalFooter, Form} from 'reactstrap';\r\nimport {Button} from 'react-bootstrap';\r\nimport \"@mobiscroll/react/dist/css/mobiscroll.min.css\";\r\nimport { Datepicker, localeCa } from \"@mobiscroll/react\";;\r\n\r\nclass Reserves extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            dates: [],\r\n            sesions:[],\r\n            dia:\"0\",\r\n            modal: false,\r\n            expo:\"\",\r\n            sessio:\"\"\r\n        }\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.toggleModal = this.toggleModal.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        let idExpo = this.props.match.params.idExpo;\r\n        axios.get(\"http://localhost:8000/dies/\"+idExpo)\r\n            .then(res => {\r\n                const dates = res.data;\r\n                this.setState({ dates })\r\n            })\r\n\r\n        axios.get(\"http://localhost:8000/sessions/\"+idExpo)\r\n        .then(res=>{\r\n            const sesions = res.data;\r\n            this.setState({sesions})\r\n        })\r\n        axios.get(\"http://localhost:8000/exposicio/\"+idExpo)\r\n            .then(res => {\r\n                const expo = res.data;\r\n                this.setState({expo})\r\n            })\r\n    }\r\n\r\n    handleChange(d){\r\n        this.setState({dia : d.value});\r\n    }\r\n\r\n    toggleModal(){\r\n        this.setState({\r\n            modal: !this.state.modal\r\n        })\r\n    }\r\n\r\n    render() {\r\n        let html;\r\n\r\n        if(this.props.sesions==[]){\r\n            html=<p>No hi ha cap sessió assignada per aquest dia.</p>\r\n        }\r\n        return (\r\n            <Container>\r\n                <h3 className=\"mt-3\">Reserva la teva entrada</h3>\r\n                <p>Està reservant una entrada per la exposició {this.state.expo.nom}</p>\r\n                <p>Perfavor, seleccioni un dia i una sessió:</p>\r\n                <Row>\r\n                    <Col lg=\"4\" sm=\"12\" className=\"mt-3\">\r\n                        <span>Tria el dia en el que vols reservar:</span>\r\n                        <Datepicker dateFormat=\"YYYY-MM-DD\" firstDay={1} \r\n                        min={this.state.dates.data_ini} max={this.state.dates.data_fi} \r\n                        locale={localeCa}/>\r\n                    </Col>\r\n                    <Col lg=\"8\" sm=\"12\" className=\"mt-3\">\r\n                        <span>Tria la sessió:</span>\r\n                        <Container className=\"border border-dark d-flex flex-wrap justify-content-start m-3 p-3\">\r\n                            <Row>\r\n                                {html}\r\n                                {this.state.sesions.map(sessio=>(\r\n                                    <Col lg=\"3\" className=\"d-flex justify-content-center\" key={sessio.id_sessio}>\r\n                                        <Button className=\"w-100 my-2 d-flex flex-wrap justify-content-center\" variant=\"outline-dark\" onClick={this.toggleModal}>\r\n                                            <p className=\"pe-0\">{sessio.hora_ini.slice(0,-3)} - {sessio.hora_fi.slice(0,-3)}</p>\r\n                                            <span style={{fontSize:\"12px\",width:\"100%\"}}>{sessio.nom}</span>\r\n                                        </Button>\r\n                                    </Col>\r\n                                ))}\r\n                            </Row>\r\n                        </Container>\r\n                    </Col>\r\n                </Row>\r\n                <Modal isOpen={this.state.modal} toggle={this.toggleModal}>\r\n                    <ModalHeader toggle={this.toggleModal}>Confirmació de la reserva: </ModalHeader>\r\n                    <Form>\r\n                    <ModalBody>\r\n                        <h6>Informació de la reserva:</h6>\r\n                        <p>{this.state.expo.nom}</p>\r\n                        <p></p>\r\n                    </ModalBody>\r\n                    <ModalFooter>\r\n                        <Button variant=\"dark\" type=\"submit\" onClick={this.toggleModal}>Envia</Button>\r\n                        <Button variant=\"secondary\" onClick={this.toggleModal}>Cancela</Button>\r\n                    </ModalFooter>\r\n                    </Form>\r\n                </Modal>\r\n            </Container>\r\n        );\r\n    }\r\n}\r\nexport default Reserves;"],"names":["Reserves","state","dates","sesions","dia","modal","expo","sessio","handleChange","bind","toggleModal","idExpo","this","props","match","params","axios","then","res","data","setState","d","value","html","className","nom","lg","sm","Datepicker","dateFormat","firstDay","min","data_ini","max","data_fi","locale","localeCa","map","variant","onClick","hora_ini","slice","hora_fi","style","fontSize","width","id_sessio","isOpen","toggle","type","Component"],"sourceRoot":""}